{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ABHIKANT KUMAR\\\\Desktop\\\\Blog page\\\\src\\\\Pages\\\\BlogPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext } from 'react';\nimport { useNavigate, useNavigation } from 'react-router-dom';\nimport { AppContext } from '../context/AppContext';\nimport { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport Header from '../components/Header';\nimport BlogDetails from '../components/BlogDetails';\nimport { baseUrl } from '../baseUrl';\nimport Spinner from '../components/Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BlogPage = () => {\n  _s();\n  const newBaseUrl = \"https://codehelp-apis.vercel.app/api/\";\n  const [blog, setBlog] = useState(null);\n  const [relatedblogs, setRelatedBlogs] = useState([]);\n  const location = useLocation();\n  const navigation = useNavigate();\n  const {\n    setLoading,\n    loading\n  } = useContext(AppContext);\n  const blogId = location.pathname.split(\"/\").at(-1); // it give blog_id which is present at last index of pathname\n\n  async function fetchRelatedBlogs() {\n    setLoading(true);\n    let url = `${newBaseUrl}get-blog?blogId=${blogId}`;\n    try {\n      const res = await fetch(url);\n      const data = await res.json();\n      setBlog(data.blog);\n      setRelatedBlogs(data.relatedBlogs);\n    } catch (error) {\n      console.log(\"Error aagya in blog id wali call\");\n      setBlog(null);\n      setRelatedBlogs([]);\n    }\n    setLoading(false);\n  }\n  useEffect(() => {\n    if (blogId) {\n      fetchRelatedBlogs();\n    }\n  }, [location.pathname]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-11/12 max-w-[670px] h-auto py-8 flex flex-col gap-y-7 mt-[66px] mb-[70px]  justify-center items-center\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigation(-1),\n      className: \"left-3 top-[14px] fixed font-bold text-color-[red] linline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]\",\n      children: \" Back \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 24\n    }, this) : blog ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(BlogDetails, {\n        post: blog\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"flex justify-center font-bold text-3xl mb-5 mt-5 font-serif text-red-800\",\n        children: \" Related Blogs \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 37\n      }, this), relatedblogs.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [\"  \", /*#__PURE__*/_jsxDEV(BlogDetails, {\n          post: post\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 84\n        }, this), \"  \"]\n      }, post.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 44\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 34\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"  \", /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No Blog Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 54\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 47\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(BlogPage, \"6IgqaZigdKhevoYnw5FSBp/TwDI=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = BlogPage;\nexport default BlogPage;\nvar _c;\n$RefreshReg$(_c, \"BlogPage\");","map":{"version":3,"names":["React","useContext","useNavigate","useNavigation","AppContext","useState","useEffect","useLocation","Header","BlogDetails","baseUrl","Spinner","jsxDEV","_jsxDEV","BlogPage","_s","newBaseUrl","blog","setBlog","relatedblogs","setRelatedBlogs","location","navigation","setLoading","loading","blogId","pathname","split","at","fetchRelatedBlogs","url","res","fetch","data","json","relatedBlogs","error","console","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","post","map","id","_c","$RefreshReg$"],"sources":["C:/Users/ABHIKANT KUMAR/Desktop/Blog page/src/Pages/BlogPage.jsx"],"sourcesContent":["import React, { useContext } from 'react'\nimport { useNavigate, useNavigation } from 'react-router-dom';\nimport { AppContext } from '../context/AppContext';\nimport { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport Header from '../components/Header';\nimport BlogDetails from '../components/BlogDetails';\nimport { baseUrl } from '../baseUrl';\nimport Spinner from '../components/Spinner';\n\nconst BlogPage = () => {\n    const newBaseUrl = \"https://codehelp-apis.vercel.app/api/\";\n    const [blog, setBlog] = useState(null);\n    const[relatedblogs, setRelatedBlogs] = useState([]);\n    const location = useLocation();\n    const navigation = useNavigate();\n    const {setLoading, loading} = useContext(AppContext);\n\n\n    const blogId = location.pathname.split(\"/\").at(-1);                // it give blog_id which is present at last index of pathname\n\n    async function fetchRelatedBlogs() {\n        setLoading(true);\n        let url = `${newBaseUrl}get-blog?blogId=${blogId}`;\n        try {\n            const res = await fetch(url);\n            const data = await res.json();\n            setBlog(data.blog);\n            setRelatedBlogs(data.relatedBlogs);\n        }\n        catch(error) {\n            console.log(\"Error aagya in blog id wali call\");\n            setBlog(null);\n            setRelatedBlogs([]);\n        }\n        setLoading(false);\n    }\n\n    useEffect( () => {\n        if(blogId) {\n            fetchRelatedBlogs();\n        }\n    }, [location.pathname] )\n\n  return (\n\n    <div className='w-11/12 max-w-[670px] h-auto py-8 flex flex-col gap-y-7 mt-[66px] mb-[70px]  justify-center items-center'>\n      <Header/>\n      <button onClick={() => navigation(-1)} className='left-3 top-[14px] fixed font-bold text-color-[red] linline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]'> Back </button>\n       \n         { loading ?  (<Spinner />) : (\n\n                                blog ?\n                                (<div>\n                                    <BlogDetails post = {blog} />\n                                    <h2 className='flex justify-center font-bold text-3xl mb-5 mt-5 font-serif text-red-800'> Related Blogs </h2>\n                                    { relatedblogs.map( (post) => (\n                                           <div key = {post.id} className='mb-8'>  <BlogDetails post={post} />  </div>\n                                            ))}\n                                    \n\n                                </div> ) :  ( <div>  <p>No Blog Found</p> </div> )\n                        )}\n\n    </div>\n  \n)}\n\nexport default BlogPage\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SAASC,WAAW,EAAEC,aAAa,QAAQ,kBAAkB;AAC7D,SAASC,UAAU,QAAQ,uBAAuB;AAClD,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,WAAW,MAAM,2BAA2B;AACnD,SAASC,OAAO,QAAQ,YAAY;AACpC,OAAOC,OAAO,MAAM,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAMC,UAAU,GAAG,uCAAuC;EAC1D,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAK,CAACc,YAAY,EAAEC,eAAe,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACnD,MAAMgB,QAAQ,GAAGd,WAAW,EAAE;EAC9B,MAAMe,UAAU,GAAGpB,WAAW,EAAE;EAChC,MAAM;IAACqB,UAAU;IAAEC;EAAO,CAAC,GAAGvB,UAAU,CAACG,UAAU,CAAC;EAGpD,MAAMqB,MAAM,GAAGJ,QAAQ,CAACK,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAgB;;EAEnE,eAAeC,iBAAiBA,CAAA,EAAG;IAC/BN,UAAU,CAAC,IAAI,CAAC;IAChB,IAAIO,GAAG,GAAI,GAAEd,UAAW,mBAAkBS,MAAO,EAAC;IAClD,IAAI;MACA,MAAMM,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAG,CAAC;MAC5B,MAAMG,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,EAAE;MAC7BhB,OAAO,CAACe,IAAI,CAAChB,IAAI,CAAC;MAClBG,eAAe,CAACa,IAAI,CAACE,YAAY,CAAC;IACtC,CAAC,CACD,OAAMC,KAAK,EAAE;MACTC,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;MAC/CpB,OAAO,CAAC,IAAI,CAAC;MACbE,eAAe,CAAC,EAAE,CAAC;IACvB;IACAG,UAAU,CAAC,KAAK,CAAC;EACrB;EAEAjB,SAAS,CAAE,MAAM;IACb,IAAGmB,MAAM,EAAE;MACPI,iBAAiB,EAAE;IACvB;EACJ,CAAC,EAAE,CAACR,QAAQ,CAACK,QAAQ,CAAC,CAAE;EAE1B,oBAEEb,OAAA;IAAK0B,SAAS,EAAC,0GAA0G;IAAAC,QAAA,gBACvH3B,OAAA,CAACL,MAAM;MAAAiC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAE,eACT/B,OAAA;MAAQgC,OAAO,EAAEA,CAAA,KAAMvB,UAAU,CAAC,CAAC,CAAC,CAAE;MAACiB,SAAS,EAAC,m4BAAm4B;MAAAC,QAAA,EAAC;IAAM;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAS,EAE/7BpB,OAAO,gBAAKX,OAAA,CAACF,OAAO;MAAA8B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG,GAEF3B,IAAI,gBACHJ,OAAA;MAAA2B,QAAA,gBACG3B,OAAA,CAACJ,WAAW;QAACqC,IAAI,EAAI7B;MAAK;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG,eAC7B/B,OAAA;QAAI0B,SAAS,EAAC,0EAA0E;QAAAC,QAAA,EAAC;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAK,EAC3GzB,YAAY,CAAC4B,GAAG,CAAGD,IAAI,iBAClBjC,OAAA;QAAqB0B,SAAS,EAAC,MAAM;QAAAC,QAAA,GAAC,IAAE,eAAA3B,OAAA,CAACJ,WAAW;UAACqC,IAAI,EAAEA;QAAK;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAG,MAAE;MAAA,GAAzDE,IAAI,CAACE,EAAE;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACjB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAGR,gBAAQ/B,OAAA;MAAA2B,QAAA,GAAK,IAAE,eAAA3B,OAAA;QAAA2B,QAAA,EAAG;MAAa;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAI,KAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACjD;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAEf;AAET,CAAC;AAAA7B,EAAA,CAxDID,QAAQ;EAAA,QAIOP,WAAW,EACTL,WAAW;AAAA;AAAA+C,EAAA,GAL5BnC,QAAQ;AA0Dd,eAAeA,QAAQ;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}