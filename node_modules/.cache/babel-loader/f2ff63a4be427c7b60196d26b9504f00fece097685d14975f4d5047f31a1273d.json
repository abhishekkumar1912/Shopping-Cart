{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ABHIKANT KUMAR\\\\Desktop\\\\Blog page\\\\src\\\\Pages\\\\BlogPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext } from 'react';\nimport { useNavigate, useNavigation } from 'react-router-dom';\nimport { AppContext } from '../context/AppContext';\nimport { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Blogs from '../components/Blogs';\nimport { baseUrl } from '../baseUrl';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BlogPage = () => {\n  _s();\n  const newBaseUrl = \"https://codehelp-apis.vercel.app/api/\";\n  const [blog, setBlog] = useState(null);\n  const [relatedblogs, setRelatedBlogs] = useState([]);\n  const location = useLocation();\n  const navigation = useNavigate();\n  const {\n    setLoading,\n    loading\n  } = useContext(AppContext);\n  const blogId = location.pathname.split(\"/\").at(-1); // it give blog_id which is present at last index of pathname\n\n  async function fetchRelatedBlogs() {\n    setLoading(true);\n    let url = `${newBaseUrl}get-blog?blogId=${blogId}`;\n    try {\n      const res = await fetch(url);\n      const data = await res.json();\n      setBlog(data.blog);\n      setRelatedBlogs(data.relatedBlogs);\n    } catch (error) {\n      console.log(\"Error aagya in blog id wali call\");\n      setBlog(null);\n      setRelatedBlogs([]);\n    }\n    setLoading(false);\n  }\n  useEffect(() => {\n    if (blogId) {\n      fetchRelatedBlogs();\n    }\n  }, [location.pathname]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigation(-1),\n        children: \"> Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" Loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 10\n    }, this) : blog ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Blogs, {\n        post: blog\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" Related Blogs \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), relatedblogs.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Blogs, {\n          post: post\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this)\n      }, post.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 10\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No Blog Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(BlogPage, \"6IgqaZigdKhevoYnw5FSBp/TwDI=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = BlogPage;\nexport default BlogPage;\nvar _c;\n$RefreshReg$(_c, \"BlogPage\");","map":{"version":3,"names":["React","useContext","useNavigate","useNavigation","AppContext","useState","useEffect","useLocation","Header","Blogs","baseUrl","jsxDEV","_jsxDEV","BlogPage","_s","newBaseUrl","blog","setBlog","relatedblogs","setRelatedBlogs","location","navigation","setLoading","loading","blogId","pathname","split","at","fetchRelatedBlogs","url","res","fetch","data","json","relatedBlogs","error","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","post","map","id","_c","$RefreshReg$"],"sources":["C:/Users/ABHIKANT KUMAR/Desktop/Blog page/src/Pages/BlogPage.jsx"],"sourcesContent":["import React, { useContext } from 'react'\nimport { useNavigate, useNavigation } from 'react-router-dom';\nimport { AppContext } from '../context/AppContext';\nimport { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Blogs from '../components/Blogs';\nimport { baseUrl } from '../baseUrl';\n\nconst BlogPage = () => {\n    const newBaseUrl = \"https://codehelp-apis.vercel.app/api/\";\n    const [blog, setBlog] = useState(null);\n    const[relatedblogs, setRelatedBlogs] = useState([]);\n    const location = useLocation();\n    const navigation = useNavigate();\n    const {setLoading, loading} = useContext(AppContext);\n\n\n    const blogId = location.pathname.split(\"/\").at(-1);                // it give blog_id which is present at last index of pathname\n\n    async function fetchRelatedBlogs() {\n        setLoading(true);\n        let url = `${newBaseUrl}get-blog?blogId=${blogId}`;\n        try {\n            const res = await fetch(url);\n            const data = await res.json();\n            setBlog(data.blog);\n            setRelatedBlogs(data.relatedBlogs);\n        }\n        catch(error) {\n            console.log(\"Error aagya in blog id wali call\");\n            setBlog(null);\n            setRelatedBlogs([]);\n        }\n        setLoading(false);\n    }\n\n    useEffect( () => {\n        if(blogId) {\n            fetchRelatedBlogs();\n        }\n    }, [location.pathname] )\n\n  return (\n\n    <div>\n      <Header/>\n      <div>\n        <button onClick={() => navigation(-1)} >\n         \n        >\n            Back\n        </button>\n      </div>\n      {\n        loading ?\n        (<div>\n            <p> Loading</p>\n        </div>) :\n        blog ?\n        (<div>\n            <Blogs post={blog} />\n            <h2> Related Blogs </h2>\n            {\n                relatedblogs.map( (post) => (\n                    <div key = {post.id}>\n                        <Blogs post={post} />\n                    </div>\n                ) )\n            }\n\n        </div>) :\n        (<div>\n            <p>No Blog Found</p>\n        </div>)\n       \n      }\n\n\n    </div>\n  )\n}\n\nexport default BlogPage\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}